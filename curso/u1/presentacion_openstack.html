---
layout: presentacion
title: Introducción a OpenStack
tema: solarized
---
<section>
  <h1>Introducción a OpenStack</h1>
  <p>
	      <small><a href="http://albertomolina.wordpress.com">Alberto Molina
	      Coballes</a> / <a
	      href="http://twitter.com/alberto_molina">@alberto_molina</a> y <a
	      href="http://josedomingo.org">José Domingo Muñoz
	      Rodríguez</a> / <a
	      href="http://twitter.com/Pledin_JD">@Pledin_JD</a> </small>
	    </p>
	    <p><small>
		<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../../img/cc_by_sa.png"
		width="100px" border="0"/></a></small></p>
	    <p><small>
		Theme
		by <a href="http://lab.hakim.se/reveal-js/#/">reveal.js</a>
	      </small>
	    </p>
	  </section>
	    <section>
	      <h2>OpenStack</h2>
	      <blockquote>&ldquo;Plataforma de cloud computing hecha con software libre para
	      desplegar nubes públicas y privadas, desarrollada con la idea de
	      ser sencilla de implementar, masivamente escalable y con muchas
	      prestaciones&rdquo;</blockquote>
	    </section>
	    <section>
	      <h2>¿Por qué OpenStack?</h2>
	      <ul>
		<li>Porque queremos instalar nuestro propio software para
		proporcionar IaaS</li>
		<li>Porque es software libre</li>
		<li>Porque es un proyecto estable, con muchos apoyos y muy
		buenas perspectivas de futuro</li>
		<li>Porque tiene muchas funcionalidades</li>
		<li>Porque podemos utilizar hardware convencional</li>
		<li>Porque es fácil de instalar (ejem!)</li>
	    </section>
	    <section>
	      <h2>Otras alternativas</h2>
	      <ul>
		<li>OpenNebula, CloudStack y Eucalyptus
		  <ul>
		    <li>Software libre</li>
		    <li>Más compatibles con AWS</li>
		    <li>Más sencillas de instalar</li>
		    <li>Algunos componentes más maduros</li>
		    <li>Proyectos más pequeños</li>
		  </ul></li>
		<li>VMware Vcloud
		  <ul>
		    <li>Software privativo</li>
		    <li>Optimizado para vSphere</li>
		    <li>No compite en IaaS pública</li>
		  </ul>
	      </ul>
	    </section>
	    <section>
	      <h2>Inicios de OpenStack</h2>
	      <table>
		<col style="width: 35%" />
		<col style="width: 65%"/>
		<tr>
		  <td style="text-align: center;"><img src="img/rackspace.jpg"
		  alt="rackspace" height="120"/></td>
		  <td>
		    <ul>
		      <li>Cloud propio desde 2005
			<ul>
			  <li>Cloud servers (IaaS)</li>
			  <li>Cloud files (StaaS)</li>
			</ul></li>
		      <li>Cambia a licencia libre en Abril 2010</li>
		    </ul>
		  </td>
		</tr>
		<tr>
		  <td style="text-align: center;"><img src="img/nasa.png"
		  alt="nasa" height="150"/></td> 
		  <td>
		    <ul>
		      <li>Comienza a utilizar Eucalyptus, pero lo deja por
  ser ''open core''</li>
		      <li>Crea el software para IaaS Nebula</li>
		      <li>Cambia a licencia libre en Mayo 2010</li>
		    </ul>
		  </td>
		</tr>
		<tr>
		  <td style="text-align: center;"><img src="img/openstack.jpg"
		  alt="openstack"  height="180"/></td>
		  <td>
		    <ul>
		      <li>Nasa y Rackspace lo inician en Junio de 2010</li>
		      <li>OpenStack Compute (nova), deriva de Nebula</li>
		      <li>OpenStack Object Store (swift), deriva de cloud
		      files</li>
		    </ul>
		  </td>
		</tr>
	      </table>
	    </section>
	    <section>
	    <h2>Principios fundacionales</h2>
	    <ul>
	      <li>Licencia Apache 2.0, no existe versión "enterprise"</li>
	      <li>Proceso de diseño abierto</li>
	      <li>Repositorios públicos de código fuente</li>
	      <li>Todos los procesos de desarrollo deben estar documentados y
		ser transparentes</li>
	      <li>Orientado para adoptar estándares abiertos</li>
	      <li>Diseño modular que permite flexibilidad mediante el uso de
	      APIs</li>
	      </ul>
	    </section>
	    <section>
	      <h2>Versiones de OpenStack</h2>
	      <p>Proyecto muy nuevo, pero con un fuerte ritmo de desarrollo:</p>
	      <table>
		<col style="width: 18%" />
		<col style="width: 32%" />
		<col style="width: 50%" />
		<tr>
		  <th>Versión</th>
		  <th>Fecha</th>
		  <th>Nuevos Componentes</th>
		</tr>
		<tr>
		  <td>Austin</td>
		  <td>Octubre 2010</td>
		  <td>Nova y Swift</td>
		</tr>
		<tr>
		  <td>Bexar</td>
		  <td>Febrero 2011</td>
		  <td>Glance</td>
		</tr>
		<tr>
		  <td>Cactus</td>
		  <td>Abril 2011</td>
		  <td></td>
		</tr>
		<tr>		  
		  <td>Diablo</td>
		  <td>Septiembre 2011</td>
		  <td></td>
		</tr>
		<tr>   
		  <td>Essex</td>
		  <td>Abril 2012</td>
		  <td>Horizon, Keystone</td>
		</tr>
		<tr>
		  <td>Folsom</td>
		  <td>Septiembre 2012</td>
		  <td>Quantum, Cinder</td>
		</tr>
		<tr>
		  <td>Grizzly</td>
		  <td>Abril 2013</td>
		  <td></td>
		</tr>
		<tr>
		  <td>Havana</td>
		  <td>Octubre 2013</td>
		  <td>Neutron, Heat, Ceilometer</td>
		</tr>
		<tr>
		  <td>Icehouse</td>
		  <td>Abril 2014</td>
		  <td>TripleO, Ironic, Trove, Marconi</td>
		</tr>
	      </table>
	      <ul>
		<li>Hasta ahora cada versión incluye importantes modificaciones
		respecto a la anterior</li>
		<li>Essex se considera realmente la primera versión</li>
	      </ul>
	    </section>
	    <section>
	      <img src="img/plan-ubuntu.png" alt="Ubuntu OpenStack Plan" />
	    </section>
	    <section>
	      <h2>OpenStack Foundation</h2>
	      <p>Se cede el control del proyecto a la OpenStack Foundation</p>
	      <img src="../../img/openstack_industry_support.png"
	      alt="openstack_industry_support"/>
	      <p>
		<small>Fuente: <a href="http://www.slideshare.net/randybias/state-of-the-stack-april-2013">cloudscaling</a></small></p>
		<p><a href="http://www.openstack.org/foundation/companies/">Empresas
		partipantes en la OpenStack Foundation</a></p>
	    </section>
	    
	  <!-- <section> -->
	  <!--   <h3>Componentes principales de OpenStack</h3> -->
	  <!--   <table> -->
	  <!--     <tbody> -->
	  <!-- 	<tr> -->
	  <!-- 	  <th style="text-align:center;">Nombre</th> -->
	  <!-- 	  <th style="text-align:center;">Equivalente en Amazon WS</th> -->
	  <!-- 	  <th style="text-align:center;">Función</th> -->
	  <!-- 	</tr> -->
	  <!-- 	<tr> -->
	  <!-- 	  <td style="text-align:center;">Horizon</td> -->
	  <!-- 	  <td style="text-align:center;">Console</td> -->
	  <!-- 	  <td style="text-align:center;">Panel web de gestión</td> -->
	  <!-- 	</tr> -->
	  <!-- 	<tr> -->
	  <!-- 	  <td style="text-align:center;">Nova</td> -->
	  <!-- 	  <td style="text-align:center;">EC2</td> -->
	  <!-- 	  <td style="text-align:center;">Gestión de instancias</td> -->
	  <!-- 	</tr> -->
	  <!-- 	<tr> -->
	  <!-- 	  <td style="text-align:center;">Cinder</td> -->
	  <!-- 	  <td style="text-align:center;">EBS</td> -->
	  <!-- 	  <td style="text-align:center;">Almacenamiento de volúmenes</td> -->
	  <!-- 	</tr> -->
	  <!-- 	<tr> -->
	  <!-- 	  <td style="text-align:center;">Keystone</td> -->
	  <!-- 	  <td style="text-align:center;">-</td> -->
	  <!-- 	  <td style="text-align:center;">Autenticación y autorización</td> -->
	  <!-- 	</tr> -->
	  <!-- 	<tr> -->
	  <!-- 	  <td style="text-align:center;">Swift</td> -->
	  <!-- 	  <td style="text-align:center;">S3</td> -->
	  <!-- 	  <td style="text-align:center;">Almacenamiento de objetos</td> -->
	  <!-- 	</tr> -->
	  <!-- 	<tr> -->
	  <!-- 	  <td style="text-align:center;">Glance</td> -->
	  <!-- 	  <td style="text-align:center;">VM Import/Export</td> -->
	  <!-- 	  <td style="text-align:center;">Gestión de imágenes para las instancias</td> -->
	  <!-- 	</tr> -->
	  <!-- 	<tr> -->
	  <!-- 	  <td style="text-align:center;">Neutron</td> -->
	  <!-- 	  <td style="text-align:center;">VPC</td> -->
	  <!-- 	  <td style="text-align:center;">Redes virtuales</td> -->
	  <!-- 	</tr> -->
	  <!--     </tbody> -->
	  <!--   </table> -->
	  <!-- </section> -->
	  <section>
	    <img src="img/openstack-software-diagram.png"/
	    alt="openstack-diagram"/>
	  </section>
	  <section>
	    <img src="img/logical-dia-openstack.jpg" alt="logical diagram"/>
	  </section>
	  <section>
	    <h2>Componentes de OpenStack</h2>
	    <ul>
	      <li>Proyecto grande y modular</li>
	      <li>Los módulos tienen muchas características comunes para poder
	    integrarse fácilmente.
		<ul>
		  <li>Escritos en Python</li>
		  <li>Utilizan AMQP para la comunicación de mensajes entre
		    componentes</li>
		  <li>Incluyen una API RESTful para la comunicación entre
		    componentes o externa (p. ej. clientes)</li>
		  <li>Autenticación basada en tokens gestionada a través del
		    componente Keystone</li>
		  <li>Base de datos propia e independiente</li>
		</ul>
	    </ul>
	  </section>
	  <section>
	    <h2>Conceptos previos</h2>
	    <ul>
	      <li>Token de autenticación: Cadena aleatoria que se obtiene tras
	      autenticarse en un sistema y que permite al usuario utilizar
	      recursos de forma segura sin volver a introducir usuario y
	      contraseña.</li>
	      <li>Imagen: Imagen de sistema preconfigurado que se utiliza como
		base para crear instancias. Dentro del cloud habrá diferentes
		imagenes para cada tipo de instacia que se quiera utilizar.</li>
	      <li>Instancia: Clon de una imagen que se crea a demanda del
		usuario en uno de los nodos del cloud.</li>
	      <li>IP fija: Direccion IP con la que se crean las instancias y
		que se utiliza para comunicacion interna.</li>
	      <li>IP flotante: Direccion IP asociada a una instancia en un
		momento dado para poder acceder a ella desde fuera.</li>
	      <li>Grupo de seguridad: Reglas de cortafuegos que controlan el
	      acceso a las instancias.</li>
	      <li>Par de claves ssh: Utilizadas para acceder por ssh a las
		instancias desde fuera del cloud.</li>
	  </section>
	  <section>
	    <h2>OpenStack Identity Service (Keystone)</h2>
	    <ul>
	      <li>Directorio centralizado que almacena información de:
		<ul>
		  <li>Usuarios</li>
		  <li>Proyectos (tenants)</li>
		  <li>Roles</li>
		  <li>Servicios y sus endpoints</li>
		</ul>
	      <li>Información almacenada en SGBDR o LDAP</li>
	      <li>Primer componente a instalar</li>
	  </section>
	  <section>
	    <h2>OpenStack Image Service (Glance)</h2>
	    <ul>
	      <li>Gestiona las plantillas de imágenes de los sistemas</li>
	      <li>Gestiona las instantáneas de las instancias</li>
	      <li>Puede utilizar diversos formatos:
		<ul>
		  <li>raw</li>
		  <li>qcow2 (Qemu/KVM)</li>
		  <li>vhd (Hyper-V)</li>
		  <li>ami (Amazon)</li>
		  <li>vdi (VirtualBox)</li>
		  <li>vmdk (VMware)</li>
		</ul>
	    </ul>
	  </section>
	  <section>
	    <h2>OpenStack Compute (Nova)</h2>
	    <ul>
	      <li>Componente principal de OpenStack</li>
	      <li>Gestiona la creación de instancias y el acceso mediante
	      consola</li>
	      <li><a href="https://wiki.openstack.org/wiki/HypervisorSupportMatrix">
	      Soporta diferentes hipervisores</a> (recomendados KVM o Xen): 
	      <ul>
		<li>KVM/QEMU</li>
		<li>Xen</li>
		<li>Hyper-V</li>
		<li>VMware ESXi</li>
		<li>LXC</li>
		<li>Docker</li>
	      </ul>
	      <li>Permite incluso el aprovisionamiento de máquinas físicas
	      mediante Baremetal/Ironic</li>
	  </section>
	  <section>
	    <h2>OpenStack Object Storage (Swift)</h2>
	  </section>
	  <section>
	    <h2>OpenStack Block Storage (Cinder)</h2>
	  </section>
	  <section>
	    <h2>OpenStack Networking (Neutron)</h2>
	  </section>
	  <section>
	    <h2>OpenStack Dashboard (Horizon)</h2>
	  </section>
	  <section>
	    <h2>Ejemplo de uso</h2>
	    <p>Creación y acceso a una instancia</p>
	    <ul>
	      <li>El usuario se autentica en Keystone y obtiene un token de
	      sesión y la lista de los endpoints de los servicios</li>
	      <li>Solicita a glance las imágenes disponibles</li>
	      <li>Solicita a neutron las redes disponibles</li>
	      <li>Solicita a nova que arranque una instancia de una de las
	      imágenes disponibles, en una de las redes y que inyecte
	      posteriormente su clave ssh pública.</li>
	      <li>Solicita una IP flotante a neutron y la asocia a la IP fija de
	      la instancia creada</li>
	      <li>Accede por ssh a la instancia utilizando la clave privada
	      correspondiente</li>
	    </ul>
	  </section>
